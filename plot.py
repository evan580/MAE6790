import matplotlib.pyplot as plt

GRAPH = {
	0: [1, 2],
	1: [0, 3, 6],
	2: [0, 5],
	3: [1, 4, 8],
	4: [3, 5, 9],
	5: [2, 4, 10],
	6: [1, 7, 11],
	7: [6, 8, 12],
	8: [3, 7, 9],
	9: [4, 8, 10, 13],
	10: [5, 9, 14],
	11: [6, 12, 15],
	12: [7, 11, 13, 16],
	13: [9, 12, 14, 17],
	14: [10, 13, 18],
	15: [11, 16, 19],
	16: [12, 15, 17, 20],
	17: [13, 16, 18, 21],
	18: [14, 17, 22],
	19: [15],
	20: [16],
	21: [17],
	22: [18]
}

label_to_cartisian = {
	0: (0, 5000),
	1: (1000, 5000),
	2: (0, 0),
	3: (1000, 2500),
	4: (1000, 1000),
	5: (1000, 0),
	6: (2000, 5000),
	7: (2000, 4000),
	8: (2000, 2500),
	9: (2000, 1000),
	10: (2000, 0),
	11: (3000, 5000),
	12: (3000, 4000),
	13: (3000, 1000),
	14: (3000, 0),
	15: (4000, 5000),
	16: (4000, 4000),
	17: (4000, 1000),
	18: (4000, 0),
	19: (5000, 5000),
	20: (5000, 4000),
	21: (5000, 1000),
	22: (5000, 0)
}
ROUTE = {
	(0, 1): 1, (1, 0): 1,
	(0, 2): 5, (2, 0): 5,
	(1, 3): 2.5, (3, 1): 2.5,
	(1, 6): 1, (6, 1): 1,
	(3, 4): 1.5, (4, 3): 1.5,
	(4, 5): 1, (5, 4): 1,
	(5, 2): 1, (2, 5): 1,
	(3, 8): 1, (8, 3): 1,
	(4, 9): 1, (9, 4): 1,
	(5, 10): 1, (10, 5): 1,
	(6, 7): 1, (7, 6): 1,
	(7, 8): 1.5, (8, 7): 1.5,
	(8, 9): 1.5, (9, 8): 1.5,
	(9, 10): 1, (10, 9): 1,
	(6, 11): 1, (11, 6): 1,
	(7, 12): 1, (12, 7): 1,
	(9, 13): 1, (13, 9): 1,
	(10, 14): 1, (14, 10): 1,
	(11, 12): 1, (12, 11): 1,
	(12, 13): 3, (13, 12): 3,
	(13, 14): 1, (14, 13): 1,
	(11, 15): 1, (15, 11): 1,
	(12, 16): 1, (16, 12): 1,
	(13, 17): 1, (17, 13): 1,
	(14, 18): 1, (18, 14): 1,
	(15, 16): 1, (16, 15): 1,
	(16, 17): 3, (17, 16): 3,
	(17, 18): 1, (18, 17): 1,
	(15, 19): 1, (19, 15): 1,
	(16, 20): 1, (20, 16): 1,
	(17, 21): 1, (21, 17): 1,
	(18, 22): 1, (22, 18): 1
}
CONCENTRATION = {
	(0, 1): 1497.9, (1, 0): 1497.9,
	(0, 2): 794.9, (2, 0): 794.9,
	(1, 3): 3544.8, (3, 1): 3544.8,
	(1, 6): 2041.6, (6, 1): 2041.6,
	(3, 4): 2782.2, (4, 3): 2782.2,
	(4, 5): 115.3, (5, 4): 115.3,
	(5, 2): 0, (2, 5): 0,
	(3, 8): 1022.2, (8, 3): 1022.2,
	(4, 9): 695.2, (9, 4): 695.2,
	(5, 10): 0, (10, 5): 0,
	(6, 7): 475.6, (7, 6): 475.6,
	(7, 8): 1255, (8, 7): 1255,
	(8, 9): 3275.4, (9, 8): 3275.4,
	(9, 10): 21.8, (10, 9): 21.8,
	(6, 11): 903.8, (11, 6): 903.8,
	(7, 12): 1140.9, (12, 7): 1140.9,
	(9, 13): 806.8, (13, 9): 806.8,
	(10, 14): 0, (14, 10): 0,
	(11, 12): 3233.8, (12, 11): 3233.8,
	(12, 13): 1558.1, (13, 12): 1558.1,
	(13, 14): 1.4, (14, 13): 1.4,
	(11, 15): 1387.5, (15, 11): 1387.5,
	(12, 16): 1273, (16, 12): 1273,
	(13, 17): 678.9, (17, 13): 678.9,
	(14, 18): 0, (18, 14): 0,
	(15, 16): 1622.2, (16, 15): 1622.2,
	(16, 17): 5693, (17, 16): 5693,
	(17, 18): 534.7, (18, 17): 534.7,
	(15, 19): 1866.6, (19, 15): 1866.6,
	(16, 20): 1019.4, (20, 16): 1019.4,
	(17, 21): 715.8, (21, 17): 715.8,
	(18, 22): 0, (22, 18): 0
}

class PlotGenerator:
	def __init__(self, fig):
		# self.plot = plt.figure(1)
		self.plot = self.plot_graph(fig)

	def plot_graph(self, fig):
		plt.figure(fig)
		for node in GRAPH:
			for neighbor in GRAPH[node]:
				node_pos = label_to_cartisian[node]
				neighbor_pos = label_to_cartisian[neighbor]
				plt.plot([node_pos[0], neighbor_pos[0]], [node_pos[1], neighbor_pos[1]], color='blue', 
					marker='o', markerfacecolor='blue', markersize=5)
				plt.annotate(str(CONCENTRATION[(node, neighbor)]), # this is the text
	                 ((node_pos[0]+neighbor_pos[0])/2, (node_pos[1]+neighbor_pos[1])/2),
	                 textcoords="offset points", # how to position the text
	                 xytext=(2,2), # distance from text to points (x,y)
	                 ha='center')
		for node, pos in label_to_cartisian.items():
			plt.annotate(str(node), # this is the text
	                 (pos[0],pos[1]),
	                 textcoords="offset points", # how to position the text
	                 xytext=(5,5), # distance from text to points (x,y)
	                 ha='center', 
	                 color='blue')
		return plt

	def plot_path(self, path):
		for i in range(1, len(path)):
			n1, n2 = label_to_cartisian[path[i-1]], label_to_cartisian[path[i]]
			self.plot.plot([n1[0], n2[0]], [n1[1], n2[1]], color='red', linewidth=3,
					marker='o', markerfacecolor='red', markersize=8)
			


# plot1 = PlotGenerator(2)
# plot1.plot.xlabel('x - axis, (m)') 
# plot1.plot.ylabel('y - axis, (m)')
# plot1.plot.title('Concentration along each route')
# plot1.plot.show()
